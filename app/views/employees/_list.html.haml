-#  Copyright (c) 2006-2017, Puzzle ITC GmbH. This file is part of
-#  PuzzleTime and licensed under the Affero General Public License version 3
-#  or later. See the COPYING file at the top-level directory or at
-#  https://github.com/puzzle/puzzletime.

:ruby
  attrs = %i[lastname firstname shortname current_percent department_id]
  attrs << :member_coach if can?(:manage, Employment)
  attrs += %i[management probation_period_end_date]
  attrs += [{member_coach: { no_link: true }}]

= crud_table *attrs do |t|
  - t.action_col do |e|
    - link_to('Stammdaten', employee_master_datum_path(e))
  - if can?(:manage, OvertimeVacation)
    - t.action_col do |e|
      - link_to('Ãœberstunden', employee_overtime_vacations_path(e) )
  - if can?(:manage, Employment)
    - t.action_col do |e|
      - link_to('Anstellungen', employee_employments_path(e))
  - if can?(:log, Employment)
    - t.action_col do |e|
      - link_to('Log', log_employee_path(e))
